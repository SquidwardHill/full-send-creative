/* Use :root vars only for things that Tailwind doesn't handle well (like clip paths, SVG filters, complex gradients, or runtime changes */
:root {
  --bubblegum-gradient: linear-gradient(64deg, #ff77ed, #fcdfed);
}

.gradient-bubblegum {
  background: var(--bubblegum-gradient);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.img-gradient {
  background-image: url("~/assets/images/hero-bg-gradient.png");
  background-size: cover;
  background-position: bottom center;
  background-repeat: no-repeat;
}

/* Page transition effects */
.page-enter {
  opacity: 0;
  -webkit-transform: translate3d(0, 20px, 0);
  transform: translate3d(0, 20px, 0);
}

.page-enter-active {
  opacity: 1;
  -webkit-transform: translate3d(0, 0, 0);
  transform: translate3d(0, 0, 0);
  -webkit-transition: opacity 300ms ease-out, -webkit-transform 300ms ease-out;
  transition: opacity 300ms ease-out, transform 300ms ease-out;
}

.page-exit {
  opacity: 1;
  -webkit-transform: translate3d(0, 0, 0);
  transform: translate3d(0, 0, 0);
}

.page-exit-active {
  opacity: 0;
  -webkit-transform: translate3d(0, -20px, 0);
  transform: translate3d(0, -20px, 0);
  -webkit-transition: opacity 300ms ease-in, -webkit-transform 300ms ease-in;
  transition: opacity 300ms ease-in, transform 300ms ease-in;
}

/* Loading bar animation */
.animate-loading-bar {
  -webkit-animation: loading-bar 1.5s ease-in-out infinite;
  animation: loading-bar 1.5s ease-in-out infinite;
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch; /* iOS momentum scrolling */
}

/* Optimize animations for performance */
* {
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  -webkit-perspective: 1000px;
  perspective: 1000px;
}

/* Force hardware acceleration for animations */
.animate-pulse,
.animate-loading-bar,
.hover\:scale-105:hover,
.hover\:scale-110:hover {
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}

/* Mobile-specific animation optimizations */
@media (max-width: 768px) {
  .animate-pulse {
    -webkit-animation: pulse 2s ease-in-out infinite;
    animation: pulse 2s ease-in-out infinite;
  }
  
  /* Ensure transitions work on mobile */
  .transition-all,
  .duration-300,
  .ease-in,
  .ease-out {
    -webkit-transition: all 300ms ease;
    transition: all 300ms ease;
  }
  
  /* Force hardware acceleration on mobile */
  .hover\:scale-105:hover,
  .hover\:scale-110:hover {
    -webkit-transform: translateZ(0) scale(1.05);
    transform: translateZ(0) scale(1.05);
  }
}

/* iOS Safari specific fixes */
@supports (-webkit-touch-callout: none) {
  /* iOS Safari specific styles */
  .animate-pulse {
    -webkit-animation: pulse 2s ease-in-out infinite !important;
    animation: pulse 2s ease-in-out infinite !important;
  }
  
  .animate-loading-bar {
    -webkit-animation: loading-bar 1.5s ease-in-out infinite !important;
    animation: loading-bar 1.5s ease-in-out infinite !important;
  }
  
  /* Force hardware acceleration on iOS */
  .transition-all,
  .duration-300 {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
  }
  
  /* Ensure hover effects work on iOS */
  .hover\:scale-105:hover,
  .hover\:scale-110:hover {
    -webkit-transform: translateZ(0) scale(1.05);
    transform: translateZ(0) scale(1.05);
  }
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  * {
    -webkit-animation-duration: 0.01ms !important;
    animation-duration: 0.01ms !important;
    -webkit-animation-iteration-count: 1 !important;
    animation-iteration-count: 1 !important;
    -webkit-transition-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
